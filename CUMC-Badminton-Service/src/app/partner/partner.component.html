
<h1>My partner</h1>

<head>
  <meta charset="utf-8">
  <!--font library is loaded prior to using mat-icons-->
  <link href=
          "https://fonts.googleapis.com/icon?family=Material+Icons&display=block"
        rel="stylesheet">
</head>

<p>My userID: {{userId}}</p>

<div *ngIf="partner == null">
  <br>
  You don't have any partner yet
  <br>
</div>


<h1>View invitations</h1>


<ng-container *ngIf="partner == null">
  <button mat-raised-button color="basic" cdkFocusInitial class="col-md-3" type="submit"
          [disabled]=false (click)="sendinviteDialog()">send invite</button>
</ng-container>

<div *ngIf="invitation == null">
  <br>
  No Invitation to you
</div>


<div *ngIf="invitation != null">

  <table class="content-table">
    <thead>
    <tr>
      <th>Invitation_ID:</th>
      <th>userid_from:</th>
      <th>userid_to:</th>
      <th>Content:</th>
      <th>response:</th>
      <th>add partner:</th>
      <th>reject partner:</th>

    </tr>
    </thead>
    <tbody >
    <ng-container *ngFor="let invite of invitation">
      <tr>
        <td>{{invite.Invitation_ID}}</td>
        <td>{{invite.userid_from}}</td>
        <td>{{invite.userid_to}}</td>
        <td>{{invite.Content}}</td>
        <td>{{invite.response}}</td>
        <td>
        <ng-container *ngIf="partner == null">
          <button mat-raised-button color="basic" cdkFocusInitial class="col-md-3" type="submit"
                  [disabled]=false (click)="Addpartner({userid_to: invite.userid_from})">add partner</button>
        </ng-container>
        </td>
        <td>
          <ng-container *ngIf="invitation != null">
            <button mat-raised-button color="basic" cdkFocusInitial class="col-md-3" type="submit"
                    [disabled]=false (click)="rejectpartner({userid_from: invite.userid_from.toString()})">reject partner</button>
          </ng-container>
        </td>

      </tr>
    </ng-container>
    </tbody>
  </table>
</div>


<div *ngFor="let part of partner">
<table class="content-table">
  <thead>
  <tr>
    <th>My PartnerID:</th>
  </tr>
  </thead>
  <tbody >
  <ng-container *ngFor="let part of partner">
    <tr>
      <td>{{part.userid_to}}</td>
    <tr>
      <td>{{part.userid_from}}</td>
    </tr>
  </ng-container>
  </tbody>
</table>
</div>
<td>
  <ng-container *ngFor="let part of partner">
    <ng-container *ngIf="part.userid_from == null">
    <button (click)="onDelete(part.userid_to)" >Delete</button>
    </ng-container>
    <ng-container *ngIf="part.userid_to == null">
    <button (click)="onDelete1(part.userid_from)" >Delete</button>
    </ng-container>
  </ng-container>
</td>


<br>
<h1>Search Profile</h1>
<br>

<mat-dialog-content [formGroup]="profilesearchform" (ngSubmit)="profilesearchSubmit()">
  <div>
    <label for="email">email:</label>
    <input id="email" type="string" formControlName="email">
  </div>
  <div>
    <label for="number">number:</label>
    <input id="number" type="number" formControlName="number">
  </div>

  <mat-dialog-actions>
    <button class="mat-raised-button mat-primary"(click)="profilesearchSubmit()">check profile</button>
  </mat-dialog-actions>

  <div *ngIf="otherprofile == null">
    <br>
    Your search is empty
  </div>


  <div *ngIf="otherprofile != null">

    <table class="content-table">
      <thead>
      <tr>
        <th>Userid:</th>
        <th>Email:</th>
        <th>Username:</th>
        <th>Sex:</th>
        <th>Preference</th>
        <th>Credits</th>
        <th>Birthday</th>
        <th>Partner number</th>

      </tr>
      </thead>
      <tbody >
      <ng-container *ngFor="let profile of otherprofile">
        <tr>
          <td>{{profile.userid}}</td>
          <td>{{profile.email}}</td>
          <td>{{profile.username}}</td>
          <td>{{profile.sex}}</td>
          <td>{{profile.preference}}</td>
          <td>{{profile.credits}}</td>
          <td>{{profile.birthday}}</td>
          <td>{{profile.partner}}</td>

        </tr>
      </ng-container>
      </tbody>
    </table>
  </div>
</mat-dialog-content>
