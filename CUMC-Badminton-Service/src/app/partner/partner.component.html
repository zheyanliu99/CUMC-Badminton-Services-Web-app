
<h1>My partner</h1>

<head>
  <meta charset="utf-8">
  <!--font library is loaded prior to using mat-icons-->
  <link href=
          "https://fonts.googleapis.com/icon?family=Material+Icons&display=block"
        rel="stylesheet">
</head>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<div class="card">
<h1>View my partner</h1>
  <div *ngIf="partners == null">
    <br>
    You don't have any partner yet
    <br>
  </div>

  <div *ngFor="let part of partners">
    <table class="content-table">
      <thead>
      <tr>
        <th>My PartnerID:</th>
      </tr>
      </thead>
      <tbody >
      <ng-container *ngFor="let part of partners">
        <tr>
          <td>{{part.userid_to}}</td>
        <tr>
          <td>{{part.userid_from}}</td>
        </tr>
      </ng-container>
      </tbody>
    </table>
  </div>
  <td>
    <ng-container *ngFor="let part of partners">
      <ng-container *ngIf="part.userid_from == null">
        <button (click)="onDelete(part.userid_to)" >Delete</button>
      </ng-container>
      <ng-container *ngIf="part.userid_to == null">
        <button (click)="onDelete1(part.userid_from)" >Delete</button>
      </ng-container>
    </ng-container>
  </td>

</div>

<Br>

<Br>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<div class="card">
  <h1>View invitations</h1>
<div *ngIf="invitation == null">
  <br>
  No Invitation to you
</div>


<div *ngIf="invitation != null">

  <table class="content-table">
    <thead>
    <tr>
      <th>Userid from:</th>
      <th>Username:</th>
      <th>Email:</th>
      <th>Content:</th>
      <th> </th>
      <th>Add/Reject:</th>


    </tr>
    </thead>
    <tbody >
    <ng-container *ngFor="let invite of invitation">
      <tr>
        <td>{{invite.userid_from}}</td>
        <td>{{invite.username}}</td>
        <td>{{invite.email}}</td>
        <td>{{invite.content}}</td>
        <td>{{invite.response}}</td>
        <ng-container *ngIf="invitation != null">
          <button mat-raised-button color="primary" cdkFocusInitial class="col-md-3" type="submit"
                  [disabled]=false (click)="Addpartner({userid_to: invite.userid_from})">Add</button>
        </ng-container>
        <ng-container *ngIf="invitation != null">
            <button mat-raised-button color="warn" cdkFocusInitial class="col-md-3" type="submit"
                    [disabled]=false (click)="rejectpartner({userid_from: invite.userid_from.toString()})">Reject</button>
        </ng-container>

      </tr>
    </ng-container>
    </tbody>
  </table>
</div>

  <br>

  <br>


</div>

<br>

<br>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<div class="card">
<br>
<h1>Search Profile</h1>
<br>

<mat-dialog-content [formGroup]="profilesearchform" (ngSubmit)="profilesearchSubmit()">
  <div>
    <label for="email">Email(any part of email): &nbsp;    </label>
    <input id="email" type="string" formControlName="email">
  </div>
  <div>
    <label for="number">Search number:    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </label>
    <input id="number" type="number" formControlName="number">
  </div>

  <mat-dialog-actions>
    <button class="col-md-3" (click)="profilesearchSubmit()">check profile</button>
  </mat-dialog-actions>

  <div *ngIf="otherprofile == null">
    <br>
    Your search is empty
  </div>


  <div *ngIf="otherprofile != null">

    <table class="content-table">
      <thead>
      <tr>
        <th>Userid:</th>
        <th>Email:</th>
        <th>Username:</th>
        <th>Sex:</th>
        <th>Preference</th>
        <th>Credits</th>
        <th>Birthday</th>
        <th>Partner number</th>
        <th>Send Invition</th>




      </tr>
      </thead>
      <tbody >
      <ng-container *ngFor="let profile of otherprofile">
        <tr>
          <td>{{profile.userid}}</td>
          <td>{{profile.email}}</td>
          <td>{{profile.username}}</td>
          <td>{{profile.sex}}</td>
          <td>{{profile.preference}}</td>
          <td>{{profile.credits}}</td>
          <td>{{profile.birthday}}</td>
          <td>{{profile.partner}}</td>
          <ng-container *ngIf="profile.partner == null">
            <ng-container *ngIf="partners == null">
            <button mat-raised-button color="basic" cdkFocusInitial class="col-md-3" type="submit"
                    [disabled]=false (click)="sendinviteDialog()">Invite</button>
            </ng-container>
          </ng-container>

        </tr>
      </ng-container>
      </tbody>
    </table>
  </div>
</mat-dialog-content>
</div>
